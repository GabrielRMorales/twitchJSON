/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! unknown exports (runtime-defined) */
/*! runtime requirements:  */
eval("const userLog = [];\nconst addGameDetails = (info) => {\n    //make sure it doesn't get a user whose already on the page\n    let newContainer = document.createElement(\"div\");\n    const classValues = [\"row\", \"panel\", \"panel-default\", \"twitch-preview\"];\n    newContainer.classList.add(...classValues);\n\n    newContainer.innerHTML = `<h2>${info.title}</h2><h3>USER: ${info.user_name}</h3><img src=${info.thumbnail_url}><p>VIEWER COUNT: ${info.viewer_count}</p>`+\n     \"<button class='remove'>Remove this</button>\";\n\n    document.querySelector(\"main\").prepend(newContainer);\n    newContainer.querySelector(\".remove\").addEventListener(\"click\", function () {\n        newContainer.parentNode.removeChild(newContainer);\n    });\n    userLog.push(info.user_name.toLowerCase());\n\n};\n//Note: to get the authorization first required a post request using my api client_id and client_secret(generated by Twitch)\n//The post response returned the authorization token which is used below\n//It would be possible to make the post request here as well, but it was done in postman, prior to this part\nconst twitchCall = (url = \"\") => {\n    return $.ajax({\n        url: \"https://api.twitch.tv/helix/streams\" + url,\n        headers: {\n            \"Authorization\": \"Bearer p9z1a915572mw91xpd7swjk4m2hsho\",\n            \"Client-ID\": \"5y0vg6nkl91uo7hhvh1epi93nd6e4q\"\n        }\n    });\n}\nconst getTopFive = () => {\n    twitchCall().then(function (res) {\n        let results = res.data.slice(0, 5);\n        let displayDetails = results.map((result) => {\n            result.thumbnail_url = result.thumbnail_url.replace(/{height}/, \"100\")\n                .replace(/{width}/, \"100\");\n            return result;\n\n        });\n        displayDetails.forEach(addGameDetails);\n\n    }).catch(function (err) {\n        console.log(err);\n    });\n}\n\nconst getUser = () => {\n    //OgamingSC2\n    let user = document.getElementById(\"search\")\n        .value.toLowerCase();\n    let urlAddon = \"?user_login=\" + user;\n    new Promise(function (resolve, reject) {\n        if (userLog.indexOf(user) === -1) {\n            resolve();\n        } else {\n            reject();\n        }\n    }).then(function () {\n        return twitchCall(urlAddon);\n    }).then(data => {\n        let formattedData = data[\"data\"][0];\n        formattedData.thumbnail_url = formattedData.thumbnail_url.replace(/{height}/, \"100\")\n            .replace(/{width}/, \"100\");\n        addGameDetails(formattedData);\n    }).catch(err => {\n        console.log(err);\n    });\n    document.getElementById(\"search\")\n        .value = \"\";\n}\n\ngetTopFive();\ndocument.getElementById(\"user-search\").addEventListener(\"click\", getUser);\ndocument.getElementById(\"refresh\").addEventListener(\"click\", () => {\n    document.querySelector(\"main\").innerHTML = \"\";\n    getTopFive();\n});\n\n//# sourceURL=webpack://my-webpack-project/./src/index.js?");
/******/ })()
;
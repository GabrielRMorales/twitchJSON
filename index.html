<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		        <!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    </head>
    <body style="background-color: #3E4551;">
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <!-- Add your site or application content here -->
        <main>
        <h1 style="color: #3F729B;">Twitch Streamer</h1>  
        <div class="container container-fluid" style="margin-bottom: 15px;">     
        <button id="online">ONLINE</button>
        <button id="offline">OFFLINE</button>
        <button id="all">ALL</button>
        <input type="text" id="search">
        </div>
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="OgamingSC2" class="offline container col-xs-4 col-xs-offset-4 panel-body list" style="padding-bottom: 32px;">OgamingSC2: </a>
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div>
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="ESL_SC2" class="offline list container col-xs-4 col-xs-offset-4 panel-body">ESL_SC2: </a>
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div>
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="sodapoppin" class="offline list container col-xs-4 col-xs-offset-4 panel-body ">sodapoppin: </a>
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div>
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="timthetatman" class="offline list container col-xs-4 col-xs-offset-4 panel-body">timthetatman: </a> 
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div>  
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="freecodecamp" class="offline list container col-xs-4 col-xs-offset-4 panel-body">freecodecamp: </a>
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div>  
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="comster404" class="offline list container col-xs-4 col-xs-offset-4 panel-body">comster404: </a>
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div>  
        <div class="row panel panel-default" style="background-color: #212121;">
        <a target="_blank" id="brunofin" class="offline list container col-xs-4 col-xs-offset-4 panel-body">brunofin: </a>
        <p class="offline list"></p>
        <p class="offline list"></p>
        </div> 
        </main>
        <script type="text/javascript">
        $(document).ready(function(){
        	$("#search").keydown(function (){
        		var k=$(this).val();
        		var myFunction=function (id){
        			$(".list").addClass("invisible");
        			$(id).removeClass("invisible");
        			$(id).next().removeClass("invisible");
        			$(id).nextAll().eq(1).removeClass("invisible");
        		}
        		switch (k){
        			case "o":
        			myFunction("#OgamingSC2");
        			break;
        			case "e":
        			myFunction("#ESL_SC2");
        			break;
        			case "s":
        			myFunction("#sodapoppin");
        			break;
        			case "t":
        			myFunction("#timthetatman");
        			break;
        			case "f":
        			myFunction("#freecodecamp");
        			break;
        			case "b":
        			myFunction("#brunofin");
        			break;
        			case "c":
        			myFunction("#comster404");
        			break;
        			case "":
        			$(".list").removeClass("invisible");
        			break;
        			}
        	});
            $("#online").click(function(){
                $(".offline").addClass("invisible");
                $(".online").removeClass("invisible");
            });
            $("#offline").click(function(){
                $(".online").addClass("invisible");
                $(".offline").removeClass("invisible");
            });
            $("#all").click(function(){
                $(".online, .offline").removeClass("invisible");
            });
   var ajax=function(chan, id){
           $.ajax({
url: 'https://api.twitch.tv/kraken/streams/'+chan,
headers: {
"Client-ID": 'h8q1zideuwrigq97fy419gpasqnib40'
}, error: function(){
	$(id).text(chan+": USER NOT FOUND");
	$(id).append("<img class='pull-right img-rounded' src='http://www.r66ds.com/images/placeholders/testimonial-placeholder.jpg' width='80' height='45' >");
}, success: function(data){
     console.log(data);
     if (data.stream!=null){
        var ds=data.stream;
        $(id).text(chan+": ONLINE");
        $(id).next().text(ds.game).removeClass("offline").addClass("online");
        $(id).nextAll().eq(1).text("Followers: "+ds.channel.followers).removeClass("offline").addClass("online");
        $(id).append("<img class='pull-right img-rounded' src='"+ds.preview.small+"'>");
        $(id).addClass("online").removeClass("offline");
        $(id).attr("href",ds.channel.url);
        }
        else if (data.stream==null){
            $(id).text(chan+": OFFLINE");
        }      	
    }
});
 }; 
    ajax("OgamingSC2","#OgamingSC2");
    ajax("freecodecamp","#freecodecamp");
    ajax("ESL_SC2","#ESL_SC2");
    ajax("sodapoppin","#sodapoppin");
    ajax("timthetatman","#timthetatman");
    ajax("comster404", "#comster404");
    ajax("brunofin", "#brunofin");        
        });
        </script>
       <script  src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
  crossorigin="anonymous">
        </script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='https://www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>
    </body>
</html>
